{% extends 'base.html' %}
{% block title %}Home | Y{% endblock title %}

{% block content %}
  <div class="max-w-2xl mx-auto">
    <h2 class="text-2xl font-semibold text-sky-700 mb-6 text-center">Recent Posts</h2>

    {% if posts %}
      <div class="space-y-6">
        {% for post in posts %}
          <div class="bg-white rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition p-5">
            <div class="flex items-center justify-between mb-2">
              <h3 class="font-semibold text-gray-800">
                {{ post.user.username }}
              </h3>
              <p class="text-sm text-gray-500">
                {{ post.created_at|date:"M d, Y H:i" }}
              </p>
            </div>

            <p class="text-gray-700 whitespace-pre-line mb-3">
              {{ post.text }}
            </p>

            {% if post.images %}
              <div class="rounded-lg overflow-hidden border border-gray-100">
                <img src="{{ post.images.url }}" alt="Post Image" class="w-full object-cover">
              </div>
            {% endif %}
          </div>
        {% endfor %}
      </div>
    {% else %}
      <p class="text-center text-gray-500">No posts yet. <a href="{% url 'post_create' %}" class="text-sky-600 hover:underline">Create one?</a></p>
    {% endif %}

    <div class="mt-10 flex justify-center">
      <a href="{% url 'post_create' %}" 
         class="bg-sky-600 text-white px-5 py-2 rounded-lg hover:bg-sky-700 transition">
         + New Post
      </a>
    </div>
  </div>
{% endblock content %}

